(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{286:function(e,n,r){Promise.resolve().then(r.bind(r,4091)),Promise.resolve().then(r.t.bind(r,8877,23))},4091:function(e,n,r){"use strict";r.d(n,{default:function(){return u}});var t=r(7437),s=r(2265),o=r(231),l=r.n(o),a=r(6463),i=r(7930);function u(){let[e,n]=(0,s.useState)(!1),[r,o]=(0,s.useState)(null),u=(0,a.usePathname)(),c=(0,s.useRef)(null);(0,s.useEffect)(()=>{(async()=>{var e,n,r;let{data:t}=await i.V.auth.getSession();o(null!==(r=null===(n=t.session)||void 0===n?void 0:null===(e=n.user)||void 0===e?void 0:e.id)&&void 0!==r?r:null)})()},[]),(0,s.useEffect)(()=>{n(!1)},[u]),(0,s.useEffect)(()=>{function e(e){c.current&&!c.current.contains(e.target)&&n(!1)}function r(e){"Escape"===e.key&&n(!1)}return document.addEventListener("mousedown",e),document.addEventListener("keydown",r),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",r)}},[]);let d=()=>n(!1);return(0,t.jsxs)("header",{className:"flex items-center gap-4 p-4 border-b border-white/10",children:[(0,t.jsx)(l(),{href:"/",className:"font-bold",children:"Fagulha"}),(0,t.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[(0,t.jsxs)("nav",{className:"flex items-center gap-2",children:[r?(0,t.jsx)(l(),{href:"/dashboard",className:"px-3 py-2 rounded-lg hover:bg-white/10",children:"Perfil"}):(0,t.jsx)(l(),{href:"/auth/login",className:"px-3 py-2 rounded-lg hover:bg-white/10",children:"Entrar"}),(0,t.jsx)(l(),{href:"/explorar",className:"px-3 py-2 rounded-lg hover:bg-white/10",children:"Explorar"}),(0,t.jsx)(l(),{href:"/planos",className:"px-3 py-2 rounded-lg hover:bg-white/10",children:"Planos"})]}),r&&(0,t.jsxs)("div",{className:"relative",ref:c,children:[(0,t.jsx)("button",{"aria-expanded":e,"aria-haspopup":"menu",onClick:()=>n(e=>!e),className:"px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20 transition",children:"Menu"}),e&&(0,t.jsxs)("div",{role:"menu",className:"absolute right-0 mt-2 w-56 rounded-xl bg-black/90 backdrop-blur border border-white/10 shadow-lg p-2",children:[(0,t.jsx)(l(),{href:"/gallery",onClick:d,role:"menuitem",className:"block px-3 py-2 rounded hover:bg-white/10",children:"Minha galeria"}),(0,t.jsx)(l(),{href:"/settings?tab=perfil",onClick:d,role:"menuitem",className:"block px-3 py-2 rounded hover:bg-white/10",children:"Editar perfil"}),(0,t.jsx)(l(),{href:"/settings?tab=seguranca",onClick:d,role:"menuitem",className:"block px-3 py-2 rounded hover:bg-white/10",children:"Alterar senha"}),(0,t.jsx)(l(),{href:"/planos",onClick:d,role:"menuitem",className:"block px-3 py-2 rounded hover:bg-white/10",children:"Adquirir tokens"}),(0,t.jsx)(l(),{href:"/auth/logout",onClick:d,role:"menuitem",className:"block px-3 py-2 rounded hover:bg-white/10",children:"Sair"})]})]})]})]})}},7930:function(e,n,r){"use strict";r.d(n,{V:function(){return o}});var t=r(1375),s=r(357);let o=(0,t.eI)(s.env.NEXT_PUBLIC_SUPABASE_URL,s.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)},6463:function(e,n,r){"use strict";var t=r(1169);r.o(t,"usePathname")&&r.d(n,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(n,{useRouter:function(){return t.useRouter}})},8877:function(){}},function(e){e.O(0,[404,231,582,971,23,744],function(){return e(e.s=286)}),_N_E=e.O()}]);
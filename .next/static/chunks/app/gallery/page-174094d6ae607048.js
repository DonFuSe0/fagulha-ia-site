(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[928],{8823:function(e,t,n){Promise.resolve().then(n.bind(n,2188))},2188:function(e,t,n){"use strict";n.d(t,{default:function(){return c}});var o=n(7437),r=n(2265);function a(e,t){let n=Math.max(0,new Date(new Date(e).getTime()+36e5*t).getTime()-Date.now()),o=e=>String(e).padStart(2,"0");return"".concat(o(Math.floor(n/36e5)),":").concat(o(Math.floor(n%36e5/6e4)),":").concat(o(Math.floor(n%6e4/1e3)))}function c(e){let{id:t,imageUrl:n,thumbUrl:c,isPublic:i,publicAt:s,createdAt:d,onToggled:l,showPublicTimer:h}=e,u=(0,r.useMemo)(()=>(function(e){let t=e=>String(e).padStart(2,"0"),n=t(e.getDate()),o=t(e.getMonth()+1),r=e.getFullYear(),a=t(e.getHours()),c=t(e.getMinutes()),i=t(e.getSeconds());return"".concat(n,"/").concat(o,"/").concat(r," - ").concat(a,":").concat(c,":").concat(i)})(new Date(d)),[d]),p=(0,r.useMemo)(()=>i&&s?a(s,96):a(d,24),[i,s,d]);async function x(){(await fetch("/api/generations/toggle-visibility",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,makePublic:!i})})).ok&&(null==l||l())}return(0,o.jsxs)("div",{className:"group overflow-hidden rounded-xl border border-white/10 bg-black/30",children:[(0,o.jsx)("img",{src:c||n,alt:"",className:"aspect-square w-full object-cover"}),(0,o.jsxs)("div",{className:"flex items-center justify-between p-2 text-xs text-white/80",children:[(0,o.jsx)("span",{children:u}),h&&(0,o.jsx)("span",{className:"rounded bg-white/10 px-2 py-[2px]",children:p})]}),(0,o.jsxs)("div",{className:"flex items-center gap-2 p-2",children:[(0,o.jsx)("button",{onClick:x,className:"rounded-md border border-white/15 px-2 py-1 text-xs text-white/90 hover:bg-white/10",children:i?"Tornar privada":"Tornar p\xfablica"}),!i&&(0,o.jsx)("a",{href:"/api/generations/download-url?id=".concat(encodeURIComponent(t)),className:"ml-auto rounded-md border border-white/15 px-2 py-1 text-xs text-white/90 hover:bg-white/10",children:"Download (24h)"}),(0,o.jsx)("a",{href:"/gerar?from=".concat(encodeURIComponent(t)),className:"rounded-md border border-white/15 px-2 py-1 text-xs text-white/90 hover:bg-white/10",children:"Reutilizar"})]})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=8823)}),_N_E=e.O()}]);
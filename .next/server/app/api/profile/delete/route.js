"use strict";(()=>{var e={};e.id=815,e.ids=[815],e.modules={2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},2361:e=>{e.exports=require("events")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},1808:e=>{e.exports=require("net")},5477:e=>{e.exports=require("punycode")},2781:e=>{e.exports=require("stream")},4404:e=>{e.exports=require("tls")},7310:e=>{e.exports=require("url")},9796:e=>{e.exports=require("zlib")},2900:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>f,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>x,staticGenerationAsyncStorage:()=>c});var o={};r.r(o),r.d(o,{POST:()=>p});var s=r(9303),i=r(8716),n=r(670),a=r(7070),u=r(6073);async function p(){var e;let t=(0,u.l)(),{data:r}=await t.auth.getUser(),o=r?.user;if(!o)return a.NextResponse.json({ok:!1,error:"N\xe3o autenticado"},{status:401});let s=(e=o.email??"",Array.from(new TextEncoder().encode(e)).map(e=>e.toString(16).padStart(2,"0")).join("").slice(0,32)),i=new Date(Date.now()+2592e6).toISOString(),{error:n}=await t.from("account_deletions").insert({user_id:o.id,email_hash:s,ban_until:i});if(n)return a.NextResponse.json({ok:!1,error:n.message},{status:400});let{error:p}=await t.from("profiles").delete().eq("id",o.id);return p?a.NextResponse.json({ok:!1,error:p.message},{status:400}):a.NextResponse.json({ok:!0})}let l=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/profile/delete/route",pathname:"/api/profile/delete",filename:"route",bundlePath:"app/api/profile/delete/route"},resolvedPagePath:"/home/ubuntu/fagulha-ia-site-desenvolvimento/fagulha-ia-site-desenvolvimento/app/api/profile/delete/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:d,staticGenerationAsyncStorage:c,serverHooks:x}=l,m="/api/profile/delete/route";function f(){return(0,n.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:c})}},6073:(e,t,r)=>{r.d(t,{l:()=>i});var o=r(1615),s=r(344);function i(){return(0,s.createRouteHandlerClient)({cookies:o.cookies})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[948,237,958,972],()=>r(2900));module.exports=o})();
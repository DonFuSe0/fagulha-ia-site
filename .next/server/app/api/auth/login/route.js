"use strict";(()=>{var e={};e.id=873,e.ids=[873],e.modules={2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},2361:e=>{e.exports=require("events")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},1808:e=>{e.exports=require("net")},5477:e=>{e.exports=require("punycode")},2781:e=>{e.exports=require("stream")},4404:e=>{e.exports=require("tls")},7310:e=>{e.exports=require("url")},9796:e=>{e.exports=require("zlib")},8772:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>f,patchFetch:()=>v,requestAsyncStorage:()=>m,routeModule:()=>x,serverHooks:()=>g,staticGenerationAsyncStorage:()=>h});var o={};r.r(o),r.d(o,{POST:()=>d,dynamic:()=>p,revalidate:()=>c});var n=r(9303),s=r(8716),i=r(670),a=r(7070),u=r(432),l=r(6073);let p="force-dynamic",c=0;async function d(e){let t={};try{t=await e.json()}catch{}let{email:r,password:o,turnstileToken:n}=t??{},s=await (0,u.C)(n);if(!s.ok)return a.NextResponse.json({ok:!1,error:"captcha_failed",detail:s.error},{status:400});let i=(0,l.l)(),{error:p}=await i.auth.signInWithPassword({email:r,password:o});if(p){let e=p.message;return p.message.includes("Invalid login credentials")?e="Invalid login credentials":p.message.includes("Email not confirmed")&&(e="Email not confirmed"),a.NextResponse.json({ok:!1,error:e},{status:400})}return a.NextResponse.json({ok:!0})}let x=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/auth/login/route",pathname:"/api/auth/login",filename:"route",bundlePath:"app/api/auth/login/route"},resolvedPagePath:"/home/ubuntu/fagulha-ia-site-desenvolvimento/fagulha-ia-site-desenvolvimento/app/api/auth/login/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:m,staticGenerationAsyncStorage:h,serverHooks:g}=x,f="/api/auth/login/route";function v(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:h})}},6073:(e,t,r)=>{r.d(t,{l:()=>s});var o=r(1615),n=r(344);function s(){return(0,n.createRouteHandlerClient)({cookies:o.cookies})}},432:(e,t,r)=>{r.d(t,{C:()=>o});async function o(e){if(!e)return{ok:!1,error:"missing-token"};let t=process.env.TURNSTILE_SECRET_KEY;if(!t)return{ok:!1,error:"missing-secret"};let r=await fetch("https://challenges.cloudflare.com/turnstile/v0/siteverify",{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:new URLSearchParams({secret:t,response:e})}),o=await r.json();return o.success?{ok:!0}:{ok:!1,error:o["error-codes"]?.join(",")||"invalid"}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[948,237,958,972],()=>r(8772));module.exports=o})();
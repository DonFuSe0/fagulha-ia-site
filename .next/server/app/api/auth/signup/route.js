"use strict";(()=>{var e={};e.id=654,e.ids=[654],e.modules={2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},2361:e=>{e.exports=require("events")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},1808:e=>{e.exports=require("net")},5477:e=>{e.exports=require("punycode")},2781:e=>{e.exports=require("stream")},4404:e=>{e.exports=require("tls")},7310:e=>{e.exports=require("url")},9796:e=>{e.exports=require("zlib")},4891:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>q,patchFetch:()=>y,requestAsyncStorage:()=>g,routeModule:()=>x,serverHooks:()=>f,staticGenerationAsyncStorage:()=>v});var s={};r.r(s),r.d(s,{POST:()=>h,dynamic:()=>l,revalidate:()=>c});var a=r(9303),o=r(8716),i=r(670),n=r(7070),u=r(432),p=r(6073);let l="force-dynamic",c=0,d=process.env.NEXT_PUBLIC_SITE_URL??"http://localhost:3000",m=`${d}/auth/callback`;async function h(e){let t={};try{t=await e.json()}catch{}let{email:r,password:s,nickname:a,turnstileToken:o}=t??{},i=await (0,u.C)(o);if(!i.ok)return n.NextResponse.json({ok:!1,error:"captcha_failed",detail:i.error},{status:400});let l=(0,p.l)(),{error:c}=await l.auth.signUp({email:r,password:s,options:{data:{nickname:a},emailRedirectTo:m}});if(c){let e=c.message;return c.message.includes("User already registered")?e="User already registered":c.message.includes("Password should be at least")?e="Password should be at least 6 characters":c.message.includes("Unable to validate email address")&&(e="Unable to validate email address"),n.NextResponse.json({ok:!1,error:e},{status:400})}return n.NextResponse.json({ok:!0,needs_email_confirmation:!0})}let x=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/auth/signup/route",pathname:"/api/auth/signup",filename:"route",bundlePath:"app/api/auth/signup/route"},resolvedPagePath:"/home/ubuntu/fagulha-ia-site-desenvolvimento/fagulha-ia-site-desenvolvimento/app/api/auth/signup/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:g,staticGenerationAsyncStorage:v,serverHooks:f}=x,q="/api/auth/signup/route";function y(){return(0,i.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:v})}},6073:(e,t,r)=>{r.d(t,{l:()=>o});var s=r(1615),a=r(344);function o(){return(0,a.createRouteHandlerClient)({cookies:s.cookies})}},432:(e,t,r)=>{r.d(t,{C:()=>s});async function s(e){if(!e)return{ok:!1,error:"missing-token"};let t=process.env.TURNSTILE_SECRET_KEY;if(!t)return{ok:!1,error:"missing-secret"};let r=await fetch("https://challenges.cloudflare.com/turnstile/v0/siteverify",{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:new URLSearchParams({secret:t,response:e})}),s=await r.json();return s.success?{ok:!0}:{ok:!1,error:s["error-codes"]?.join(",")||"invalid"}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,237,958,972],()=>r(4891));module.exports=s})();